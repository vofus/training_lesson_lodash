"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){function e(){for(var t=document.getElementsByClassName("remove-btn"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){t.preventDefault(),o.removeCity(+this.parentElement.parentElement.id),c.refresh(),e()})}function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=1;case 1:return t.next=4,e++;case 4:t.next=1;break;case 6:case"end":return t.stop()}},n[0],this)}var n=[t].map(regeneratorRuntime.mark),i=function(){function e(t){_classCallCheck(this,e),this.arrOfCities=t}return _createClass(e,[{key:"refresh",value:function(){var e=document.getElementById("template").innerHTML,t=document.getElementById("template-minify").innerHTML,n=_.template(e),i=_.template(t);"none"===document.getElementById("minify-table").style.display&&"block"===document.getElementById("city_table").style.display?document.getElementById("city_table__body").innerHTML=n({items:this.arrOfCities}):document.getElementById("minify-table").innerHTML=i({items:this.arrOfCities})}}]),e}(),r=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];_classCallCheck(this,e),this.arrOfCities=t}return _createClass(e,[{key:"addCity",value:function(e,t,n){var i=s.next().value,r=e||document.querySelector(".form-city").value,o=t||document.querySelector(".form-street").value,c=n||document.querySelector(".form-count-houses").value,u=new a(i,r,o,c);this.arrOfCities.push(u)}},{key:"removeCity",value:function(e){this.arrOfCities.forEach(function(t,n,i){t.id===e&&i.splice(n,1)})}},{key:"findMin",value:function(){var e=this.arrOfCities[0].countHouses,t=this.arrOfCities[0].id;this.arrOfCities.forEach(function(n,i,r){r[i].countHouses<e&&(e=r[i].countHouses,t=r[i].id)}),document.getElementById(""+t).style.background="pink"}},{key:"findMax",value:function(){var e=this.arrOfCities[0].countHouses,t=this.arrOfCities[0].id;this.arrOfCities.forEach(function(n,i,r){r[i].countHouses>e&&(e=r[i].countHouses,t=r[i].id)}),document.getElementById(""+t).style.background="green"}},{key:"get",value:function(){return this.arrOfCities}}]),e}(),a=function e(t,n,i,r){_classCallCheck(this,e),this.id=t,this.name=n,this.street=i,this.countHouses=r},s=t(),o=new r,c=new i(o.get());o.addCity("Samara","Lenina",45),o.addCity("Togliatti","Zavodskaya",67),o.addCity("Chapaevsk","Zheleznodorozhnaya",37),c.refresh(),e();var u=document.querySelector(".find-min"),l=document.querySelector(".find-max");u.addEventListener("click",function(e){e.preventDefault(),o.findMin()}),l.addEventListener("click",function(e){e.preventDefault(),o.findMax()});var d=document.querySelector("#add-element input[type=submit]");d.addEventListener("click",function(t){t.preventDefault(),o.addCity(),c.refresh(),e()});var f=document.querySelector(".minify-btn");f.addEventListener("click",function(t){t.preventDefault(),"Compact version"===this.innerHTML?(this.innerHTML="Full version",document.getElementById("minify-table").style.display="block",document.getElementById("city_table").style.display="none"):(this.innerHTML="Compact version",document.getElementById("minify-table").style.display="none",document.getElementById("city_table").style.display="block"),c.refresh(),e()})}();